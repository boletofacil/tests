{"version":3,"sources":["assets/logo-marvel.png","assets/loading.gif","config/env.js","services/MarvelApiSearch.js","components/layout/Header.jsx","components/SearchBox.jsx","components/Record.jsx","components/Details.jsx","components/Pagination.jsx","components/Content.jsx","components/layout/Main.jsx","App.jsx","index.js"],"names":["module","exports","privateKey","publicKey","timestamp","Number","Date","http","axios","create","baseURL","this","search","page","offset","get","params","nameStartsWith","ts","apikey","env","hash","md5","limit","Header","className","src","logo","alt","aria-hidden","style","zIndex","marginTop","SearchBox","state","onChange","e","setState","target","value","onSubmit","preventDefault","props","submitSearch","getFontSize","fontSize","role","htmlFor","id","type","placeholder","React","Component","Record","data","thumbnail","name","path","extension","maxHeight","marginLeft","title","onClick","showDetails","bind","Details","$","on","event","hideDetails","componentDidUpdate","modal","css","character","description","stories","comics","series","events","urls","tabIndex","data-dismiss","aria-label","borderRadius","available","href","url","Pagination","hasPrevious","width","currentPage","visibility","requestPrevious","hasNext","response","total","lastPage","Math","ceil","requestNext","current","gotoPage","forceUpdate","Content","isShowingDetails","detailsFor","toggleDetails","record","hasPages","getDetails","results","map","key","Main","displayResults","isLoaded","loading","Fragment","App","searchResponse","lastSearch","marvel","then","catch","err","console","error","finally","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.255d769d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-marvel.123f631d.png\";","module.exports = __webpack_public_path__ + \"static/media/loading.4b6d7e44.gif\";","\r\n/**\r\n * Define required enviroment variables to consume Marvel API\r\n */\r\nexport default {\r\n  privateKey: () => 'e0e55f6771e417e64814d7c87461f62297310cc8',\r\n  publicKey: () => '25830836275ae902313448074c6033c4'\r\n}\r\n","import axios from 'axios'\r\nimport md5 from 'md5'\r\nimport env from './../config/env'\r\n\r\n/**\r\n * Define the HTTP client to consume Marvel API\r\n */\r\nfunction MarvelApiSearch() {\r\n  const timestamp = Number(new Date())\r\n  const limit = 20\r\n  const http = axios.create({\r\n    baseURL: 'https://gateway.marvel.com/v1/public/',\r\n  })\r\n  this.search = (search, page = 1) => {\r\n    const offset = (page * limit) - limit\r\n    return http.get('characters', {\r\n      params: {\r\n        nameStartsWith: search,\r\n        ts: timestamp,\r\n        apikey: env.publicKey(),\r\n        hash: md5(timestamp + env.privateKey() + env.publicKey()),\r\n        limit, offset\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport default new MarvelApiSearch()\r\n","import React from 'react'\r\nimport logo from './../../assets/logo-marvel.png'\r\n\r\nexport default function Header() {\r\n  return (\r\n    <div className=\"container-fluid py-4 bg-marvel\">\r\n      <div className=\"mx-auto w-25\">\r\n        <figure className=\"figure w-100\">\r\n          <img className=\"figure-img img-fluid\" src={ logo } alt=\"Marvel Comics logo\" />\r\n        </figure>\r\n        <div className=\"h6 text-white px-1 d-flex justify-content-between\" aria-hidden=\"true\" style={{ zIndex: 1, marginTop: '-24px' }}>\r\n          <div>C</div>\r\n          <div>H</div>\r\n          <div>A</div>\r\n          <div>R</div>\r\n          <div>A</div>\r\n          <div>C</div>\r\n          <div>T</div>\r\n          <div>E</div>\r\n          <div>R</div>\r\n          <div>S</div>\r\n        </div>\r\n        <h1 className=\"sr-only\">\r\n          Chracters of the Marvel Comics Universe\r\n        </h1>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass SearchBox extends React.Component {\r\n\r\n  state = {\r\n    search: ''\r\n  }\r\n\r\n  onChange = e => {\r\n    this.setState({\r\n      search: e.target.value\r\n    })\r\n  }\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault()\r\n    this.props.submitSearch(this.state.search)\r\n  }\r\n\r\n  getFontSize = () => {\r\n    return {\r\n      fontSize: '2em'\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form role=\"search\" className=\"px-2 pt-4 pb-2\" onSubmit={this.onSubmit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"search-box\" className=\"h5\">Start typing the name of your character:</label>\r\n          <div className=\"row align-middle px-2\">\r\n            <input\r\n              id=\"search-box\"\r\n              type=\"text\"\r\n              className=\"form-control border-marvel col-10 col-lg-11 rounded-0\"\r\n              style={this.getFontSize()}\r\n              placeholder=\"e.g.: &quot;captain&quot;\"\r\n              value={this.state.search}\r\n              onChange={this.onChange}\r\n            />\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-marvel col-2 col-lg-1 rounded-0\"\r\n              style={this.getFontSize()}\r\n            >GO</button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nSearchBox.propTypes = {\r\n  submitSearch: PropTypes.func.isRequired\r\n}\r\n\r\nexport default SearchBox\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass Record extends React.Component {\r\n\r\n  render() {\r\n    const { thumbnail, name } = this.props.data\r\n    return (\r\n      <div className=\"col-12 col-md-6\">\r\n        <div className=\"card mb-3 border-marvel\">\r\n          <div className=\"card-body\">\r\n            <img\r\n              src={`${thumbnail.path}.${thumbnail.extension}`}\r\n              className=\"figure-fluid float-left\"\r\n              style={{ maxHeight: '4em' }}\r\n              alt=\"Character thumbnail\"\r\n            />\r\n            <div className=\"text-center\" style={{ marginLeft: '5em' }}>\r\n              <h3 className=\"card-title text-truncate h5\" title={name}>{name}</h3>\r\n              <div className=\"card-text text-center\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-sm btn-marvel w-50 rounded-0\"\r\n                  onClick={this.props.showDetails.bind(this, this.props.data)}\r\n                >\r\n                  More Details...\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nRecord.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  showDetails: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Record\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport $ from 'jquery'\r\n\r\nclass Details extends React.Component {\r\n\r\n  componentDidMount() {\r\n    $('#character-details').on('hidden.bs.modal', event => {\r\n      this.props.hideDetails.bind(this)\r\n    })\r\n    this.componentDidUpdate()\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    $('#character-details').modal('show')\r\n    $('body').css('padding-right', '')\r\n  }\r\n\r\n  render() {\r\n    const { thumbnail, name, description, stories, comics, series, events, urls } = this.props.character\r\n    return (\r\n      <div id=\"character-details\" className=\"modal fade\" tabIndex=\"1\" role=\"dialog\">\r\n        <div className=\"modal-dialog\" role=\"document\">\r\n          <div id=\"modal-content\" className=\"modal-content\">\r\n            <div className=\"modal-header text-center d-block\">\r\n              <div className=\"text-right\">\r\n                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n              <figure className=\"figure w-50 mx-auto\">\r\n                <img className=\"figure-img img-fluid\" style={{ borderRadius: '50%' }} src={`${thumbnail.path}.${thumbnail.extension}`} alt=\"Character thumbnail\" />\r\n              </figure>\r\n              <h1 className=\"modal-title\">{name}</h1>\r\n            </div>\r\n            <div className=\"modal-body text-center\">\r\n              <p className=\"h5\">{description || <span className=\"font-italic\">No description</span>}</p>\r\n              <div className=\"row text-center pt-2\">\r\n                <div className=\"col-6 col-sm-3\">\r\n                  <h5><span className=\"badge badge-primary\">{stories.available} stories</span></h5>\r\n                </div>\r\n                <div className=\"col-6 col-sm-3\">\r\n                  <h5><span className=\"badge badge-danger\">{comics.available} comics</span></h5>\r\n                </div>\r\n                <div className=\"col-6 col-sm-3\">\r\n                  <h5><span className=\"badge badge-info\">{series.available} series</span></h5>\r\n                </div>\r\n                <div className=\"col-6 col-sm-3\">\r\n                  <h5><span className=\"badge badge-warning\">{events.available} events</span></h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"modal-footer d-flex justify-content-between\">\r\n              <button type=\"button\" className=\"btn btn-light rounded-0\" data-dismiss=\"modal\">\r\n                Close\r\n              </button>\r\n              <a href={urls[0].url} className=\"btn btn-marvel rounded-0\">\r\n                Official Marvel Page\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nDetails.propTypes = {\r\n  character: PropTypes.object.isRequired\r\n}\r\n\r\nexport default Details\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass Pagination extends React.Component {\r\n\r\n  hasPrevious = () => {\r\n    const style = { width: '5em' }\r\n    if (this.props.currentPage === 1) style.visibility = 'hidden'\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-outline-marvel\"\r\n        style={style}\r\n        onClick={this.requestPrevious}\r\n      >Previous</button>\r\n    )\r\n  }\r\n\r\n  hasNext = () => {\r\n    const { limit, total } = this.props.response\r\n    const lastPage = Math.ceil(total / limit)\r\n    const style = { width: '5em' }\r\n    if (this.props.currentPage === lastPage) style.visibility = 'hidden'\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-outline-marvel\"\r\n        style={style}\r\n        onClick={this.requestNext}\r\n      >Next</button>\r\n    )\r\n  }\r\n\r\n  requestPrevious = e => {\r\n    const current = this.props.currentPage - 1\r\n    this.setState({ current })\r\n    this.props.gotoPage(current)\r\n    this.forceUpdate()\r\n  }\r\n\r\n  requestNext = e => {\r\n    const current = this.props.currentPage + 1\r\n    this.setState({ current })\r\n    this.props.gotoPage(current)\r\n    this.forceUpdate()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"mt-2 mb-3 d-flex justify-content-between\">\r\n        {this.hasPrevious()}\r\n        {this.hasNext()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nPagination.propTypes = {\r\n  response: PropTypes.object.isRequired,\r\n  currentPage: PropTypes.number.isRequired,\r\n  gotoPage: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Pagination\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Record from './Record'\r\nimport Details from './Details'\r\nimport Pagination from './Pagination'\r\n\r\nclass Content extends React.Component {\r\n\r\n  state = {\r\n    isShowingDetails: false,\r\n    detailsFor: null\r\n  }\r\n\r\n  toggleDetails = (record = null) => {\r\n    this.setState({\r\n      isShowingDetails: !!record,\r\n      detailsFor: record\r\n    })\r\n  }\r\n\r\n  hasPages = () => {\r\n    if (this.props.response.total > this.props.response.limit) {\r\n      return (\r\n        <Pagination\r\n          response={this.props.response}\r\n          currentPage={this.props.currentPage}\r\n          gotoPage={this.props.gotoPage}\r\n        />\r\n      )\r\n    }\r\n  }\r\n\r\n  getDetails = () => {\r\n    if (this.state.detailsFor) {\r\n      return (\r\n        <Details character={this.state.detailsFor} hideDetails={this.toggleDetails} />\r\n      )\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"pb-4\">\r\n        {this.hasPages()}\r\n        <div className=\"row\">\r\n          {this.props.response.results.map(record => {\r\n            return (\r\n              <Record\r\n                key={record.id}\r\n                data={record}\r\n                showDetails={this.toggleDetails}\r\n              />\r\n            )\r\n          })\r\n        }\r\n        </div>\r\n        {this.hasPages()}\r\n        {this.getDetails()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nContent.propTypes = {\r\n  response: PropTypes.object.isRequired,\r\n  currentPage: PropTypes.number.isRequired,\r\n  submitSearch: PropTypes.func.isRequired,\r\n  gotoPage: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Content\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport loading from './../../assets/loading.gif'\r\nimport SearchBox from './../SearchBox'\r\nimport Content from './../Content'\r\n\r\nclass Main extends React.Component {\r\n\r\n  displayResults = () => {\r\n    if (this.props.isLoaded) {\r\n      if (this.props.loading) {\r\n        return (\r\n          <React.Fragment>\r\n            <hr/>\r\n            <div className=\"text-center py-5\">\r\n              <img src={loading} alt=\"Loading animation\" aria-label=\"Loading animation\" />\r\n            </div>\r\n          </React.Fragment>\r\n        )\r\n      } else {\r\n        return (\r\n          <React.Fragment>\r\n            <hr/>\r\n            <Content\r\n              response={this.props.response}\r\n              currentPage={this.props.currentPage}\r\n              submitSearch={this.props.submitSearch}\r\n              gotoPage={this.props.gotoPage}\r\n            />\r\n          </React.Fragment>\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid py-5\">\r\n        <div className=\"container bg-white\">\r\n          <SearchBox submitSearch={this.props.submitSearch} />\r\n          {this.displayResults()}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nMain.propTypes = {\r\n  loading: PropTypes.bool.isRequired,\r\n  isLoaded: PropTypes.bool.isRequired,\r\n  response: PropTypes.object.isRequired,\r\n  currentPage: PropTypes.number.isRequired,\r\n  submitSearch: PropTypes.func.isRequired,\r\n  gotoPage: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Main\r\n","import React from 'react'\nimport marvel from './services/MarvelApiSearch'\nimport Header from './components/layout/Header'\nimport Main from './components/layout/Main'\n\nexport default class App extends React.Component {\n\n  state = {\n    loading: false,\n    isLoaded: false,\n    searchResponse: {},\n    lastSearch: '',\n    currentPage: 1\n  }\n\n  submitSearch = (search, page = 1) => {\n    this.setState({\n      loading: true,\n      isLoaded: true,\n      lastSearch: search,\n      currentPage: page\n    })\n    marvel.search(search, page)\n    .then(response => {\n      this.setState({\n        searchResponse: response.data.data\n      })\n    })\n    .catch(err => {\n      console.error(err)\n      this.setState({\n        isLoaded: false\n      })\n    })\n    .finally(() => {\n      this.setState({\n        loading: false\n      })\n    })\n  }\n\n  gotoPage = page => {\n    this.submitSearch(this.state.lastSearch, page)\n  }\n\n  render() {\n    return (\n      <div>\n        <Header />\n        <Main\n          loading={this.state.loading}\n          isLoaded={this.state.isLoaded}\n          response={this.state.searchResponse}\n          currentPage={this.state.currentPage}\n          submitSearch={this.submitSearch}\n          gotoPage={this.gotoPage}\n        />\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport 'jquery'\nimport 'popper.js'\nimport 'bootstrap'\nimport './index.scss'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}