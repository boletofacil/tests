(window["webpackJsonpmarvel-characters"]=window["webpackJsonpmarvel-characters"]||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/logo-marvel.123f631d.png"},23:function(e,t,a){e.exports=a.p+"static/media/loading.4b6d7e44.gif"},24:function(e,t,a){e.exports=a(51)},31:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),c=a.n(s),l=a(7),i=a.n(l),o=(a(9),a(30),a(31),a(1)),m=a(2),u=a(4),d=a(3),h=a(5),p=a(20),b=a.n(p),g=a(21),v=a.n(g),f={privateKey:function(){return"e0e55f6771e417e64814d7c87461f62297310cc8"},publicKey:function(){return"25830836275ae902313448074c6033c4"}};var E=new function(){var e=Number(new Date),t=b.a.create({baseURL:"https://gateway.marvel.com/v1/public/"});this.search=function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=20*n-20;return t.get("characters",{params:{nameStartsWith:a,ts:e,apikey:f.publicKey(),hash:v()(e+f.privateKey()+f.publicKey()),limit:20,offset:r}})}},y=a(22),N=a.n(y);function j(){return r.a.createElement("div",{className:"container-fluid py-4 bg-marvel"},r.a.createElement("div",{className:"mx-auto w-25"},r.a.createElement("figure",{className:"figure w-100"},r.a.createElement("img",{className:"figure-img img-fluid",src:N.a,alt:"Marvel Comics logo"})),r.a.createElement("div",{className:"h6 text-white px-1 d-flex justify-content-between","aria-hidden":"true",style:{zIndex:1,marginTop:"-24px"}},r.a.createElement("div",null,"C"),r.a.createElement("div",null,"H"),r.a.createElement("div",null,"A"),r.a.createElement("div",null,"R"),r.a.createElement("div",null,"A"),r.a.createElement("div",null,"C"),r.a.createElement("div",null,"T"),r.a.createElement("div",null,"E"),r.a.createElement("div",null,"R"),r.a.createElement("div",null,"S")),r.a.createElement("h1",{className:"sr-only"},"Chracters of the Marvel Comics Universe")))}var O=a(23),x=a.n(O),w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={search:""},a.onChange=function(e){a.setState({search:e.target.value})},a.onSubmit=function(e){e.preventDefault(),a.props.submitSearch(a.state.search)},a.getFontSize=function(){return{fontSize:"2em"}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{role:"search",className:"px-2 pt-4 pb-2",onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"search-box",className:"h5"},"Start typing the name of your character:"),r.a.createElement("div",{className:"row align-middle px-2"},r.a.createElement("input",{id:"search-box",type:"text",className:"form-control border-marvel col-10 col-lg-11 rounded-0",style:this.getFontSize(),placeholder:'e.g.: "captain"',value:this.state.search,onChange:this.onChange}),r.a.createElement("button",{type:"submit",className:"btn btn-marvel col-2 col-lg-1 rounded-0",style:this.getFontSize()},"GO"))))}}]),t}(r.a.Component),S=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.thumbnail,a=e.name;return r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"card mb-3 border-marvel"},r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{src:"".concat(t.path,".").concat(t.extension),className:"figure-fluid float-left",style:{maxHeight:"4em"},alt:"Character thumbnail"}),r.a.createElement("div",{className:"text-center",style:{marginLeft:"5em"}},r.a.createElement("h3",{className:"card-title text-truncate h5",title:a},a),r.a.createElement("div",{className:"card-text text-center"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-marvel w-50 rounded-0",onClick:this.props.showDetails.bind(this,this.props.data)},"More Details..."))))))}}]),t}(r.a.Component),P=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;i()("#character-details").on("hidden.bs.modal",function(t){e.props.hideDetails.bind(e)}),this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){i()("#character-details").modal("show"),i()("body").css("padding-right","")}},{key:"render",value:function(){var e=this.props.character,t=e.thumbnail,a=e.name,n=e.description,s=e.stories,c=e.comics,l=e.series,i=e.events,o=e.urls;return r.a.createElement("div",{id:"character-details",className:"modal fade",tabIndex:"1",role:"dialog"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{id:"modal-content",className:"modal-content"},r.a.createElement("div",{className:"modal-header text-center d-block"},r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("figure",{className:"figure w-50 mx-auto"},r.a.createElement("img",{className:"figure-img img-fluid",style:{borderRadius:"50%"},src:"".concat(t.path,".").concat(t.extension),alt:"Character thumbnail"})),r.a.createElement("h1",{className:"modal-title"},a)),r.a.createElement("div",{className:"modal-body text-center"},r.a.createElement("p",{className:"h5"},n||r.a.createElement("span",{className:"font-italic"},"No description")),r.a.createElement("div",{className:"row text-center pt-2"},r.a.createElement("div",{className:"col-6 col-sm-3"},r.a.createElement("h5",null,r.a.createElement("span",{className:"badge badge-primary"},s.available," stories"))),r.a.createElement("div",{className:"col-6 col-sm-3"},r.a.createElement("h5",null,r.a.createElement("span",{className:"badge badge-danger"},c.available," comics"))),r.a.createElement("div",{className:"col-6 col-sm-3"},r.a.createElement("h5",null,r.a.createElement("span",{className:"badge badge-info"},l.available," series"))),r.a.createElement("div",{className:"col-6 col-sm-3"},r.a.createElement("h5",null,r.a.createElement("span",{className:"badge badge-warning"},i.available," events"))))),r.a.createElement("div",{className:"modal-footer d-flex justify-content-between"},r.a.createElement("button",{type:"button",className:"btn btn-light rounded-0","data-dismiss":"modal"},"Close"),r.a.createElement("a",{href:o[0].url,className:"btn btn-marvel rounded-0"},"Official Marvel Page")))))}}]),t}(r.a.Component),C=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).hasPrevious=function(){var e={width:"5em"};return 1===a.props.currentPage&&(e.visibility="hidden"),r.a.createElement("button",{type:"button",className:"btn btn-outline-marvel",style:e,onClick:a.requestPrevious},"Previous")},a.hasNext=function(){var e=a.props.response,t=e.limit,n=e.total,s=Math.ceil(n/t),c={width:"5em"};return a.props.currentPage===s&&(c.visibility="hidden"),r.a.createElement("button",{type:"button",className:"btn btn-outline-marvel",style:c,onClick:a.requestNext},"Next")},a.requestPrevious=function(e){var t=a.props.currentPage-1;a.setState({current:t}),a.props.gotoPage(t),a.forceUpdate()},a.requestNext=function(e){var t=a.props.currentPage+1;a.setState({current:t}),a.props.gotoPage(t),a.forceUpdate()},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"mt-2 mb-3 d-flex justify-content-between"},this.hasPrevious(),this.hasNext())}}]),t}(r.a.Component),k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={isShowingDetails:!1,detailsFor:null},a.toggleDetails=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.setState({isShowingDetails:!!e,detailsFor:e})},a.hasPages=function(){if(a.props.response.total>a.props.response.limit)return r.a.createElement(C,{response:a.props.response,currentPage:a.props.currentPage,gotoPage:a.props.gotoPage})},a.getDetails=function(){if(a.state.detailsFor)return r.a.createElement(P,{character:a.state.detailsFor,hideDetails:a.toggleDetails})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"pb-4"},this.hasPages(),r.a.createElement("div",{className:"row"},this.props.response.results.map(function(t){return r.a.createElement(S,{key:t.id,data:t,showDetails:e.toggleDetails})})),this.hasPages(),this.getDetails())}}]),t}(r.a.Component),D=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).displayResults=function(){if(a.props.isLoaded)return a.props.loading?r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"text-center py-5"},r.a.createElement("img",{src:x.a,alt:"Loading animation","aria-label":"Loading animation"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement(k,{response:a.props.response,currentPage:a.props.currentPage,submitSearch:a.props.submitSearch,gotoPage:a.props.gotoPage}))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid py-5"},r.a.createElement("div",{className:"container bg-white"},r.a.createElement(w,{submitSearch:this.props.submitSearch}),this.displayResults()))}}]),t}(r.a.Component),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,isLoaded:!1,searchResponse:{},lastSearch:"",currentPage:1},a.submitSearch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;a.setState({loading:!0,isLoaded:!0,lastSearch:e,currentPage:t}),E.search(e,t).then(function(e){a.setState({searchResponse:e.data.data})}).catch(function(e){console.error(e),a.setState({isLoaded:!1})}).finally(function(){a.setState({loading:!1})})},a.gotoPage=function(e){a.submitSearch(a.state.lastSearch,e)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement(D,{loading:this.state.loading,isLoaded:this.state.isLoaded,response:this.state.searchResponse,currentPage:this.state.currentPage,submitSearch:this.submitSearch,gotoPage:this.gotoPage}))}}]),t}(r.a.Component);c.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.255d769d.chunk.js.map